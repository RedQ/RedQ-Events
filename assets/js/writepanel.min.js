function loader(){var e;var t;var n;var r;var i=jQuery("#_rq_event_lat_name").val();var s=jQuery("#_rq_event_lon_name").val();if(i==0&&s==0){r=5}else{r=15}var o=new google.maps.LatLng(i,s);var u={zoom:r,center:o,mapTypeId:google.maps.MapTypeId.ROADMAP};t=new google.maps.Map(document.getElementById("map_canvas"),u);n=new google.maps.Marker({map:t,draggable:true});var a=new google.maps.LatLng(i,s);n.setPosition(a);t.setCenter(a);e=new google.maps.Geocoder;google.maps.event.addListener(n,"drag",function(){$("#_rq_event_lat_name").val(n.getPosition().lat());$("#_rq_event_lon_name").val(n.getPosition().lng())});google.maps.event.addListener(n,"mouseup",function(){e.geocode({latLng:n.getPosition(),region:"en"},function(e,t){if(t==google.maps.GeocoderStatus.OK){if(e){var n=false,r=false,i=false,s=false;$("#_rq_event_country_name").val(" ");$("#_rq_event_region_name").val(" ");$("#_rq_event_address_name").val(" ");$("#_rq_event_zip_code").val(" ");for(var o=0;o<=e.length-1;o++){for(var u=0;u<=e[o].address_components.length-1;u++){if(e[o].address_components[u].types[0]=="country"&&n==false){$("#_rq_event_country_name").val(e[o].address_components[u].long_name);n=true}if(e[o].address_components[u].types[0]=="administrative_area_level_1"&&r==false){$("#_rq_event_region_name").val(e[o].address_components[u].long_name);r=true}if(e[o].address_components[u].types[0]=="locality"&&r==true){$("#_rq_event_region_name").val(e[o].address_components[u].long_name);r=true}if(e[o].address_components[u].types[0]=="postal_code"&&s==false){$("#_rq_event_zip_code").val(e[o].address_components[u].long_name);s=true}}}for(u=0;u<=e[0].address_components.length-1;u++){if(e[0].address_components[u].types[0]!="country"&&e[0].address_components[u].types[0]!="administrative_area_level_1"&&e[0].address_components[u].types[0]!="administrative_area_level_2"&&e[0].address_components[u].types[0]!="administrative_area_level_3"&&e[0].address_components[u].types[0]!="locality"){if($("#_rq_event_address_name").val()==" "){$("#_rq_event_address_name").val(e[0].address_components[u].long_name)}else{$("#_rq_event_address_name").val($("#_rq_event_address_name").val()+", "+e[0].address_components[u].long_name)}}}if(n==true||r==true||i==true){$("#convert_gps_log").html('<span style="color: green;">Geocode was successful. Status: '+t+"</span>")}}}else{$("#convert_gps_log").html('<span style="color: red;">Error! Geocode was not successful for the following reason: '+t+"</span>")}})})}jQuery(document).ready(function(e){function t(){var t=e("select#product-type").val();if("event"===t){e(".options_group ._manage_stock_field").show()}}e("select#product-type").change(function(){var n=e(this).val();if("event"===n){e("input#_downloadable").prop("checked",false)}t();e("body").trigger("woocommerce-product-type-change",n,e(this))}).change();e("#_rq_event_start_date").datepicker({dateFormat:"yy-mm-dd",numberOfMonths:1,showButtonPanel:true,showOn:"button",buttonImage:rq_events_writepanel_js_params.calendar_image,buttonImageOnly:true});jQuery("#events_tickets").on("click","button.add_ticket",function(){jQuery(".rq_events_tickets").block({message:null,overlayCSS:{background:"#fff url("+rq_events_writepanel_js_params.plugin_url+"/assets/images/ajax-loader.gif) no-repeat center",opacity:.6}});var e=jQuery(".rq_event_ticket").size();var t={action:"rq_event_add_ticket",post_id:rq_events_writepanel_js_params.post,loop:e,security:rq_events_writepanel_js_params.nonce_add_ticket};jQuery.post(rq_events_writepanel_js_params.ajax_url,t,function(e){jQuery(".rq_events_tickets").append(e).unblock();jQuery(".rq_events_tickets #message").hide()});return false});jQuery("#events_tickets").on("click","button.remove_event_ticket",function(e){e.preventDefault();var t=confirm(rq_events_writepanel_js_params.i18n_remove_ticket);if(t){var n=jQuery(this).parent().parent();var r=jQuery(this).attr("rel");if(r>0){jQuery(n).block({message:null,overlayCSS:{background:"#fff url("+rq_events_writepanel_js_params.plugin_url+"/assets/images/ajax-loader.gif) no-repeat center",opacity:.6}});var i={action:"rq_event_remove_ticket",ticket_id:r,security:rq_events_writepanel_js_params.nonce_delete_ticket};jQuery.post(rq_events_writepanel_js_params.ajax_url,i,function(e){jQuery(n).fadeOut("300",function(){jQuery(n).remove()})})}else{jQuery(n).fadeOut("300",function(){jQuery(n).remove()})}}return false})});var $=jQuery.noConflict();jQuery(document).ready(function(){if(jQuery("#map_canvas").length){loader()}});$("#_redq_event_convert_zip").click(function(){var e,t;var n;var r=jQuery("#_rq_event_lat_name").val();var i=jQuery("#_rq_event_lon_name").val();var s=$("#_rq_event_country_name").val();var o=$("#_rq_event_region_name").val();var u=$("#_rq_event_address_name").val();var a=$("#_rq_event_zip_code").val();var f=a+" "+s+" "+o+" "+u;e=new google.maps.Geocoder;e.geocode({address:f,region:"en"},function(e,s){if(s==google.maps.GeocoderStatus.OK){var o=new google.maps.LatLng(r,i);var u={zoom:15,center:o,mapTypeId:google.maps.MapTypeId.ROADMAP};n=new google.maps.Map(document.getElementById("map_canvas"),u);n.setCenter(e[0].geometry.location);var a=new google.maps.Marker({map:n,position:e[0].geometry.location,draggable:true});$("#_rq_event_lat_name").val(e[0].geometry.location.lat());$("#_rq_event_lon_name").val(e[0].geometry.location.lng());$("#convert_gps_log").html('<span style="color: green;">Geocode was successful. Status: '+s+"</span>");t=new google.maps.Geocoder;google.maps.event.addListener(a,"drag",function(){$("#_rq_event_lat_name").val(a.getPosition().lat());$("#_rq_event_lon_name").val(a.getPosition().lng())});google.maps.event.addListener(a,"mouseup",function(){t.geocode({latLng:a.getPosition(),region:"en"},function(e,t){if(t==google.maps.GeocoderStatus.OK){if(e){var n=false,r=false,i=false,s=false;$("#_rq_event_country_name").val(" ");$("#_rq_event_region_name").val(" ");$("#_rq_event_address_name").val(" ");$("#_rq_event_zip_code").val(" ");for(var o=0;o<=e.length-1;o++){for(var u=0;u<=e[o].address_components.length-1;u++){if(e[o].address_components[u].types[0]=="country"&&n==false){$("#_rq_event_country_name").val(e[o].address_components[u].long_name);n=true}if(e[o].address_components[u].types[0]=="administrative_area_level_1"&&r==false){$("#_rq_event_region_name").val(e[o].address_components[u].long_name);r=true}if(e[o].address_components[u].types[0]=="locality"&&r==true){$("#_rq_event_region_name").val(e[o].address_components[u].long_name);r=true}if(e[o].address_components[u].types[0]=="postal_code"&&s==false){$("#_rq_event_zip_code").val(e[o].address_components[u].long_name);s=true}}}for(u=0;u<=e[0].address_components.length-1;u++){if(e[0].address_components[u].types[0]!="country"&&e[0].address_components[u].types[0]!="administrative_area_level_1"&&e[0].address_components[u].types[0]!="administrative_area_level_2"&&e[0].address_components[u].types[0]!="administrative_area_level_3"&&e[0].address_components[u].types[0]!="locality"){if($("#_rq_event_address_name").val()==" "){$("#_rq_event_address_name").val(e[0].address_components[u].long_name)}else{$("#_rq_event_address_name").val($("#_rq_event_address_name").val()+", "+e[0].address_components[u].long_name)}}}if(n==true||r==true||i==true){$("#convert_gps_log").html('<span style="color: green;">Geocode was successful. Status: '+t+"</span>")}}}else{$("#convert_gps_log").html('<span style="color: red;">Error! Geocode was not successful for the following reason: '+t+"</span>")}})})}else{$("#convert_gps_log").html('<span style="color: red;">Error! Geocode was not successful for the following reason: '+s+"</span>")}})})